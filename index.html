<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EEE 151 Lecvids Playlist</title>
<style>
  body {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    padding: 28px;
    background: #f7f7fb;
    color: #111;
  }
  .box {
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(20,20,40,0.06);
    max-width: 720px;
    margin-bottom: 20px;
  }
  input[type="text"] {
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    width: 160px;
    font-size: 1rem;
  }
  button#generateBtn {
    padding: 6px 12px;
    border-radius: 8px;
    border: none;
    background: #1a73e8;
    color: white;
    font-size: 0.9rem;
    cursor: pointer;
    margin-left: 8px;
  }
  ul { padding-left: 0; margin-top: 16px; }
  li { margin: 8px 0; display: flex; align-items: center; flex-wrap: wrap; }
  button.lecture-btn {
    display: inline-block;
    padding: 6px 12px;
    background: #1a73e8;
    color: white;
    font-weight: 500;
    border: none;
    border-radius: 8px;
    margin-right: 12px;
    cursor: pointer;
    transition: background 0.2s;
  }
  button.lecture-btn:hover {
    background: #1558b0;
  }
  span.url { font-size: 0.85rem; color: #555; word-break: break-all; }
  video {
    width: 100%;
    max-width: 720px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(20,20,40,0.06);
  }
</style>
</head>
<body>

<div class="box">
  <h1>EEE 151 Lecvids Playlist</h1>

  <label for="snInput">Input last 5 digits of SN:</label>
  <input type="text" id="snInput" maxlength="5" placeholder="e.g., 12345">
  <button id="generateBtn">Generate Playlist</button>
</div>

<div class="box">
  <video id="videoPlayer" controls>
    Your browser does not support HTML5 video.
  </video>
</div>

<div class="box">
  <ul id="linksList">
    <!-- Playlist buttons will appear here -->
  </ul>
</div>

<script>
function generateLinks() {
  const sn = document.getElementById("snInput").value.trim();
  if (sn.length !== 5 || isNaN(sn)) {
    alert("Please enter exactly 5 digits.");
    return;
  }

  const container = document.getElementById("linksList");
  container.innerHTML = ''; // clear previous links

  const baseURL = "http://202.92.132.69:8888/manuel/";
  const videoPlayer = document.getElementById("videoPlayer");

  for (let i = 1; i <= 23; i++) {
    const lectureNum = i;
    const idx = String(i).padStart(2, '0'); // 01, 02, ...
    const href = `${baseURL}${sn}_${idx}.mp4`;

    const li = document.createElement("li");

    // Lecture button
    const button = document.createElement("button");
    button.textContent = `Lecture ${lectureNum}`;
    button.className = "lecture-btn";

    // On click, load video
    button.addEventListener("click", () => {
      videoPlayer.src = href;
      videoPlayer.play();
    });

    // Show URL beside it
    const span = document.createElement("span");
    span.className = "url";
    span.textContent = href;

    li.appendChild(button);
    li.appendChild(span);
    container.appendChild(li);
  }
}

// Button click
document.getElementById("generateBtn").addEventListener("click", generateLinks);

// Enter key triggers generation
document.getElementById("snInput").addEventListener("keydown", (event) => {
  if (event.key === "Enter") {
    generateLinks();
  }
});
</script>

</body>
</html>
